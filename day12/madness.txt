???.###
 .??.###
  ..?.###
   ....###
   ..#.###
  .#?.###
   .#..###
   .##.###
 #??.###

???.###
 .??.###
  ??.###
   .?###
    ?###
     .###
      ### | 3 X
     #### | 4 X
   #?### | 1
     ?###
      .###
       ### | 3 X 1
      #### | 4 X 1
 #??.### | 1
  ??.### | Cached with [3],[4],[1,3],[1,4] ([1,3] hit)

.??..??...?##.
 ??..??...?##. | [2],[3],[1,2],[1,3],[1,2],[1,3][1,1,2],[1,1,3],[1,2],[1,3],[1,1,2],[1,1,3],[1,1,2],[1,1,3][1,1,1,2],[1,1,1,3],[1,2],[1,3],[1,1,2],[1,1,3],[1,1,2],[1,1,3][1,1,1,2],[1,1,1,3],[1,1,2],[1,1,3],[1,1,1,2],[1,1,1,3],[1,1,1,2],[1,1,1,3][1,1,1,1,2],[1,1,1,1,3]
  .?..??...?##
   ?..??...?## | [2],[3],[1,2],[1,3],[1,2],[1,3][1,1,2],[1,1,3],[1,2],[1,3],[1,1,2],[1,1,3],[1,1,2],[1,1,3][1,1,1,2],[1,1,1,3]
    ...??...?## | [2],[3],[1,2],[1,3],[1,2],[1,3][1,1,2],[1,1,3]
     ??...?## | [2],[3],[1,2],[1,3],[1,2],[1,3][1,1,2],[1,1,3]
      .?...?## | [2],[3],[1,2],[1,3],[1,2],[1,3][1,1,2],[1,1,3]
       ?...?## | [2],[3],[1,2],[1,3]
        ....?## | [2],[3]
         ?## | [2],[3]
          .## | [2]
           ## | [2]
          ### | [3]
        #...?## | 1 -> [1,2],[1,3]
         ...?## | 1 -> [1,2],[1,3]
          ?## | Cache: 1 + 2, 1 + 3 -> [1,2],[1,3]
      #?...?## | 1 -> [1,2][1,3][1,1,2][1,1,3]
       ?...?## | Cache: [2],[3],[1,2],[1,3]
    #..??...?## | 1 -> [1,2],[1,3],[1,1,2],[1,1,3],[1,1,2],[1,1,3][1,1,1,2],[1,1,1,3]
	 ..??...?## | [2],[3],[1,2],[1,3],[1,2],[1,3][1,1,2],[1,1,3]
	  ??...?## | Cache: [2],[3],[1,2],[1,3],[1,2],[1,3][1,1,2],[1,1,3]
  #?..??...?## | 1 -> [1,2],[1,3],[1,1,2],[1,1,3],[1,1,2],[1,1,3][1,1,1,2],[1,1,1,3],[1,1,2],[1,1,3],[1,1,1,2],[1,1,1,3],[1,1,1,2],[1,1,1,3][1,1,1,1,2],[1,1,1,1,3]
   ?..??...?## | Cache: [2],[3],[1,2],[1,3],[1,2],[1,3][1,1,2],[1,1,3],[1,2],[1,3],[1,1,2],[1,1,3],[1,1,2],[1,1,3][1,1,1,2],[1,1,1,3] 

.??..??...?##.
 ??..??...?##.
  ....??...?##.
   ??...?##. | [2][3][1,2][1,3][1,2][1,3][2,2][2,3]
    .....?##. | [2][3]
	 ?##. | [2][3]
	  .##.
	   ##. | [2]
	    .
	  ###. | [3]
	   .
	.#...?##. | [1,2][1,3]
	 #...?##. | 1 -> [1,2][1,3]
	  ...?##
	   ?## | Cache: [2][3]
	#....?##. | 1 -> [1,2][1,3]
	 ....?##
	  ?## | Cache: [2][3]
	##...?##. | 2 -> [2,2][2,3]
	 ...?## | Cache: [2][3]
  .#..??...?##.
   #..??...?##. | 1 -> [1,2][1,3][1,1,2][1,1,3][1,1,2][1,1,3][1,2,2][1,2,3]
    ..??...?##.
	 ??...?## | Cache: [2][3][1,2][1,3][1,2][1,3][2,2][2,3]
  #...??...?##.
  ##..??...?##.

?###?????
 .###?????
  ###????? | 3 ->
   ????? |

.??..??...?##. 1,1,3
..#...#...###.
.#....#...###.
..#..#....###.
.#...#....###.

.??..??...?##.
 ??..??...?##. | [1,1,3][1,1,3][1,1,3][1,1,3]
  ....??...?##.
   ??...?##. | Push cache: {[1][1]} for (1,1,3)
    .....?##. |
	 ?##. | Push cache: {} for (1,1,3)
	  .##. |
	   ##. | 1 impossible
	  ###. | 1 impossible
    .#...?##. | [1]
	 #...?##. | [1]
	  ...?##.
	   ?##. | Push cache: {} for (1,3)
	    .##.
		 ##. | 1 impossible
		###. | 1 impossible
    #....?##. | [1]
	 ....?##.
	  ?##. | Pull cache: {} for (1,3)
    ##...?##. | 1 impossible
  .#..??...?##.
   #..??...?##. | [1] + [1,3][1,3] -> [1,1,3][1,1,3]
    ..??...?##.
	 ??...?##. | Push cache: {[1,3][1,3]} for (1,3)
      .....?##.
       ?##. | Pull cache: {} for (1,3)
      .#...?##. | [1]
	   #...?##. | [1] + [3] -> [1,3]
	    ...?##.
	     ?##. | Push cache: {[3]} for (3)
	      .##.
		   ##. | 3 impossible
          ###. | [3]
		   .
		       | {}
      #....?##. | [1] + [3] -> [1,3]
	   ....?##.
	    ?##. | Pull cache: {[3]} for (3)
      ##...?##. | 1 impossible
  #...??...?##. | [1] + [1,3][1,3] -> [1,1,3][1,1,3]
   ...??...?##.
    ??...?##. | Pull cache: {[1,3][1,3]} for (1,3)
  ##..??...?##. | 1 impossible

Solutions:
..##.####### 2,7
.##..####### 2,7

??#??#????## 2,7
   #??#????## | 2 -> [2,7]
   #????## | 7
  ##??#????## | 2 -> [2,7]
   ?#????##
     #????##? | 7
	  #
	##????## | 7 impossible
 #.#??#????## | 2 impossible
 ###??#????## | 2 impossible


 
